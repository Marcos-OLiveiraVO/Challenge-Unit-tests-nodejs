# Desafio de RefatoraÃ§Ã£o de aplicaÃ§Ã£o.

<h4>Desafio de refatoraÃ§Ã£o de usecases e banco de dados alem de implementar os testes de integraÃ§Ã£o e de unidades.</h4>


<h3>ğŸš¨ Rotas da aplicaÃ§Ã£o</h3>

     POST `/api/v1/users` => A rota recebe `name`, `email` e `password` dentro do corpo da requisiÃ§Ã£o, salva o usuÃ¡rio criado no banco e retorna uma resposta vazia com status `201`. 

     POST `/api/v1/sessions` => A rota recebe `email` e `password` no corpo da requisiÃ§Ã£o e retorna os dados do usuÃ¡rio autenticado junto Ã  um token JWT. 



<aside>
ğŸ’¡ Essa aplicaÃ§Ã£o nÃ£o possui refresh token, ou seja, o token criado dura apenas 1 dia e deve ser recriado apÃ³s o perÃ­odo mencionado.

</aside>

     GET `/api/v1/profile` => A rota recebe um token JWT pelo header da requisiÃ§Ã£o e retorna as informaÃ§Ãµes do usuÃ¡rio autenticado.

     GET `/api/v1/statements/balance` => A rota recebe um token JWT pelo header da requisiÃ§Ã£o e retorna uma lista com todas as operaÃ§Ãµes de depÃ³sito e saque do usuÃ¡rio autenticado e tambÃ©m o saldo total numa propriedade `balance`.
  
    POST `/api/v1/statements/deposit` => A rota recebe um token JWT pelo header e `amount` e `description` no corpo da requisiÃ§Ã£o, registra a operaÃ§Ã£o de depÃ³sito do valor e retorna as informaÃ§Ãµes do depÃ³sito criado com status `201`.

    POST `/api/v1/statements/withdraw` => A rota recebe um token JWT pelo header e `amount` e `description` no corpo da requisiÃ§Ã£o, registra a operaÃ§Ã£o de saque do valor (caso o usuÃ¡rio possua saldo vÃ¡lido) e retorna as informaÃ§Ãµes do saque criado com status `201`. 

    GET `/api/v1/statements/:statement_id` => A rota recebe um token JWT pelo header e o id de uma operaÃ§Ã£o registrada (saque ou depÃ³sito) na URL da rota e retorna as informaÃ§Ãµes da operaÃ§Ã£o encontrada.


